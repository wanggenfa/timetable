<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2022级数据科学与大数据技术（专升本）4班</title>
    <style>
        td {
            text-align: center;
            font-size: 15px;
            padding: 1px;
        }
        th {
            font-size: 20px;
        }
        p {
            text-align: center;
            font-size: 35px;
            font-weight: bold;
        }
        body {
            background-image: url("https://file.51pptmoban.com/d/file/2022/08/18/6fe3db16faacb7367706e2e9055819da.jpg");
            background-attachment: fixed;
        }
        #tt {
            font-size: 25px;
            font-weight: bold;
        }
        .hidden {
            display: none;
        }
        #week-select {
            margin: 20px auto;
            text-align: center;
            font-size: 22px;
        }
        #week {
            font-size: 22px;
        }
        .course1, .course2, .course3, .course4, .course5, .course6 {
            padding: 20px;
            border-radius: 20px;
            margin: 5px 0;
        }
        .course1 {
            background-color: rgba(255, 204, 204, 0.8); /* 浅红色 */
        }
        .course2 {
            background-color: rgba(204, 255, 204, 0.8); /* 浅绿色 */
        }
        .course3 {
            background-color: rgba(204, 204, 255, 0.8); /* 浅蓝色 */
        }
        .course4 {
            background-color: rgba(255, 255, 204, 0.8); /* 浅黄色 */
        }
        .course5 {
            background-color: rgba(228, 255, 215, 0.8); 
        }
        .course6 {
            background-color: rgba(226, 242, 255, 0.8); 
        }
        .t1 {
            margin: 2px;
            font-size: 18px;
            font-weight: normal;
        }
    </style>
</head>
<body>
<p>2022级数据科学与大数据技术（专升本）4班2024-2025-1课表</p>

<div id="week-select">
    <label for="week">选择周次: </label>
    <select id="week" onchange="updateSchedule()">
        <script>
            for (let i = 1; i <= 20; i++) {
                document.write(`<option value="${i}">第${i}周</option>`);
            }
        </script>
    </select>
</div>

<table width="80%" style="table-layout: ;" border="1" cellpadding="15" cellspacing="2" align="center">
    <thead>
        <tr>
            <th></th>
            <th>星期一</th>
            <th>星期二</th>
            <th>星期三</th>
            <th>星期四</th>
            <th>星期五</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td id="tt">1-2<br />
				<div class="t1">8:20-9:05</div>
				<div class="t1">9:15-10:00</div>
			</td>
            <td></td>
            <td>
                <div class="course1" data-week="3-5,14-18">概率论与数理统计<br>教室：A3402</div>
                <div class="course2" data-week="11-13">Python数据处理编程<br>教室：9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：9617</div>
            </td>
            <td rowspan="2">
                <div class="course4" data-week="3-18">数据库原理与应用<br>教室：A9409</div>
            </td>
            <td>
                <div class="course5" data-week="2-18">马克思主义基本原理<br>教室：A1101</div>
            </td>
            <td rowspan="2">
                <div class="course2" data-week="3-18">操作系统原理与应用<br>教室：A9213</div>
            </td>
        </tr>
        <tr>
            <td id="tt">3-4<br />
				<div class="t1">10:20-11:05</div>
				<div class="t1">11:15-12:00</div>
			</td>
            <td>
                <div class="course1" data-week="3-18">概率论与数理统计<br>教室：A3213</div>
            </td>
            <td>
                <div class="course2" data-week="11-13">Python数据处理编程<br>教室：A9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：A9617</div>
            </td>
            <td>
                <div class="course2" data-week="11-14">Python数据处理编程<br>教室：A9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：A9617</div>
            </td>
        </tr>
        <tr>
            <td id="tt">中午</td>
            <td colspan="5">午休时间/干饭</td>
        </tr>
        <tr>
            <td id="tt">5-6<br />
				<div class="t1">14:30-15:15</div>
				<div class="t1">15:25-16:10</div>
			</td>
            <td>
                <div class="course2" data-week="11-14">Python数据处理编程<br>教室：A9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：A9617</div>
            </td>
            <td>
                <div class="course4" data-week="3,5,7,9,11,13,15,17">数据库原理与应用<br>教室：A3310</div>
            </td>
            <td rowspan="2">
                <div class="course2" data-week="11-14">Python数据处理编程<br>教室：A9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：A9617</div>
            </td>
            <td></td>
            <td rowspan="2">
                <div class="course2" data-week="11-14">Python数据处理编程<br>教室：A9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：A9617</div>
            </td>
        </tr>
        <tr>
            <td id="tt">7-8<br />
				<div class="t1">16:30-17:15</div>
				<div class="t1">17:25-18:10</div>
			</td>
            <td>
                <div class="course2" data-week="11-14">Python数据处理编程<br>教室：A9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：A9617</div>
            </td>
            <td>
                <div class="course6" data-week="10-18">创业基础<br>教室：A3504</div>
            </td>
            <td></td>
        </tr>
        <tr>
            <td id="tt">晚上</td>
            <td colspan="5">课外活动/晚餐</td>
        </tr>
        <tr>
            <td id="tt">9-10<br />
				<div class="t1">19:00-19:45</div>
				<div class="t1">19:55-20:40</div>
			</td>
            <td></td>
            <td></td>
            <td>
                <div class="course3" data-week="7-8">Web编程与应用<br>教室：A9617</div>
                <div class="course2" data-week="11-14">Python数据处理编程<br>教室：A9414</div>
            </td>
            <td>
                <div class="course2" data-week="11-14">Python数据处理编程<br>教室：A9414</div>
                <div class="course3" data-week="6-8">Web编程与应用<br>教室：A9617</div>
            </td>
            <td></td>
        </tr>
        <tr>
            <td id="tt">11-12</td>
            <td></td>
            <td>
                <div class="course5" data-week="2-18">马克思主义基本原理</div>
            </td>
            <td>
                <div class="course2" data-week="13-14">Python数据处理编程<br>教室：A9414</div>
            </td>
            <td></td>
            <td>
                <div class="course6" data-week="2-9">创业基础</div>
            </td>
        </tr>
    </tbody>
</table>

<script>
    // 计算当前是第几周
    function calculateCurrentWeek() {
        const firstWeekDate = new Date("2024-09-02"); // 第一周的星期一
        const now = new Date(); // 当前日期
        const oneDay = 24 * 60 * 60 * 1000; // 一天的毫秒数
        const diffDays = Math.floor((now - firstWeekDate) / oneDay); // 计算天数差
        const currentWeek = Math.floor(diffDays / 7) + 1; // 计算周次，+1是因为第1周是从0开始计的
        return currentWeek;
    }

    // 根据周次更新课表
    function updateSchedule() {
        const selectedWeek = parseInt(document.getElementById("week").value);
        const courses = document.querySelectorAll("[data-week]");

        courses.forEach(course => {
            const weeks = course.getAttribute("data-week").split(",");
            let isVisible = false;
            weeks.forEach(weekRange => {
                const [startWeek, endWeek] = weekRange.split("-").map(Number);
                if (selectedWeek >= startWeek && selectedWeek <= endWeek) {
                    isVisible = true;
                }
            });
            course.style.display = isVisible ? "" : "none";
        });
    }

    // 页面加载时自动显示当前周
    window.onload = function() {
        const currentWeek = calculateCurrentWeek();
        const weekSelect = document.getElementById("week");
        weekSelect.value = currentWeek; // 设置下拉框为当前周
        updateSchedule(); // 显示当前周的课表
    };
</script>
</body>
</html>
